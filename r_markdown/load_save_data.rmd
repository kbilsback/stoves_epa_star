---
title: "Load and save data"
output:
  html_document:
    toc: true
    toc_float: true
---

```{r library, echo=FALSE, message=FALSE, warning=FALSE}
  library(tidyverse)
  library(knitr)
```

```{r global_options, include=FALSE}
  knitr::opts_chunk$set(fig.path='figures/', warning=FALSE, message=FALSE, cache=FALSE)
```

```{r functions, echo=FALSE}
  source("../r_scripts/load_data.R")
  source("../r_scripts/load_metadata.R")
```

# Field instrument data (raw)

* Load and save thermocouple data

```{r} 
  # this function gives warnings due to slightly varied file formats 
  # however the output is correct
  saveRDS(load_field_temp_india(), file = "../r_files/field_temp_india.RDS")
```

```{r} 
  # this function gives warnings due to slightly varied file formats 
  # however the output is correct
  saveRDS(load_field_temp_honduras(), file = "../r_files/field_temp_honduras.RDS")
```

```{r} 
  # this function gives warnings due to slightly varied file formats 
  # however the output is correct
  saveRDS(load_field_temp_uganda(), file = "../r_files/field_temp_uganda.RDS")
```

* Load and save sums data

```{r field_sums} 
  #saveRDS(load_field_sums(), file = "../r_files/field_sums.RDS")
```

## Field data logs

* Load sampling times and household info

```{r field_metadata} 
  saveRDS(load_field_meta(), file = "../r_files/field_meta.RDS")
```

* Load and save temperature metadata

```{r field_temp_meta} 
  saveRDS(load_field_temp_meta(), file = "../r_files/field_temp_meta.RDS")
```

* Load and save testing events

```{r field_events} 
  saveRDS(load_field_events(), file = "../r_files/field_events.RDS")
```

* Load and save fuel properties 

```{r field_fuels} 
  saveRDS(load_field_fuel_lhv(), file = "../r_files/field_fuel_lhv.RDS")
  saveRDS(load_field_fuel_carbon(), file = "../r_files/field_fuel_carbon.RDS")
```

# Lab data (cleaned)

## Gravimetric

```{r} 
  saveRDS(load_lab_grav(), file = "../r_files/lab_grav.RDS")
```

## Lab data logs

```{r}
  saveRDS(load_lab_meta(), file = "../r_files/lab_meta.RDS")
```

## Pot weights

```{r}
  saveRDS(load_pot_weights(), file = "../r_files/pot_weights.RDS")
```

## Times

```{r}
  saveRDS(load_segment_times(), file = "../r_files/lab_segment_times.RDS")
```

## Temp

```{r}
  saveRDS(load_lab_temp_a(), file = "../r_files/lab_temp_a.RDS")
```

```{r}
  saveRDS(load_lab_temp_b(), file = "../r_files/lab_temp_b.RDS")
```

# Lab data (not cleaned)

## smps

* load and save smps data

```{r}
  saveRDS(load_lab_smps(), file = "../r_files/lab_smps.RDS")
```

* load and save sp2 data

```{r}
  saveRDS(load_lab_sp2(), file = "../r_files/lab_sp2.RDS")
```

* load and save ams data

```{r}
  saveRDS(load_lab_ams(), file = "../r_files/lab_ams.RDS")
```

```{r}
  saveRDS(load_firepower(), file = "../r_files/lab_firepower_mce.RDS")
```

# FST paper data

## WBT data

```{r}
  saveRDS(load_wbt_data(), file = "../r_files/wbt_data.RDS")
```

## Berkeley WBT data

```{r}
  saveRDS(read_csv("../data/other_studies/berkeley_air_wbt.csv") %>%
          dplyr::mutate(test = "wbt"),
          file = "../r_files/berkeley_wbt_data.RDS")
```

## Field data

```{r}
  saveRDS(load_field_data(), file = "../r_files/field_data.RDS")
```

```{r rose_field} 
  saveRDS(load_rose_data_v1(), file = "../r_files/rose_field_data.RDS")
```

```{r}
  saveRDS(load_field_emissions_rt(), file = "../r_files/field_emissions_rt_data.RDS")
```

# Lab to field data

## Data from Rose's paper

```{r} 
  saveRDS(load_rose_data_v2(), file = "../r_files/rose_field_data2.RDS")
```

```{r}
  saveRDS(load_flue_temp(), file = "../r_files/lab_flue_temp.RDS")
```
